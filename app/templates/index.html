{% extends 'base.html' %}

{% block content %}
{% set is_dashboard = active_page == 'dashboard' %}
{% set is_register = active_page == 'register' %}
{% set is_reports = active_page == 'reports' %}
{% set is_appointments = active_page == 'appointments' %}

<aside class="w-20 lg:w-64 bg-slate-900 text-white flex flex-col transition-all duration-300 z-20">
    <div class="h-20 flex items-center justify-center lg:justify-start lg:px-6 border-b border-slate-800">
        <div class="w-10 h-10 bg-indigo-500 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-500/30">
            <i class="fa-solid fa-heart-pulse text-xl"></i>
        </div>
        <span class="ml-3 font-bold text-lg hidden lg:block tracking-wide">NutriInst</span>
    </div>

    <nav class="flex-1 py-6 space-y-2 px-3">
        <a href="{{ url_for('main.index') }}" class="flex items-center px-3 py-3 {{ 'bg-indigo-600 text-white shadow-lg shadow-indigo-900/20' if is_dashboard else 'text-slate-400 hover:bg-slate-800 hover:text-white' }} rounded-xl group transition-all">
            <i class="fa-solid fa-user-doctor w-6 text-center"></i>
            <span class="ml-3 font-medium hidden lg:block">Consulta Actual</span>
        </a>
        
        <a href="{{ url_for('main.register') }}" class="flex items-center px-3 py-3 {{ 'bg-slate-800 text-white border border-indigo-500/40 shadow-lg shadow-indigo-900/20' if is_register else 'text-slate-400 hover:bg-slate-800 hover:text-white' }} rounded-xl transition-all group">
            <i class="fa-solid fa-user-plus w-6 text-center group-hover:text-indigo-400 transition-colors"></i>
            <span class="ml-3 font-medium hidden lg:block">Registrar</span>
        </a>

        <a href="{{ url_for('main.appointments') }}" class="flex items-center px-3 py-3 {{ 'bg-slate-800 text-white border border-indigo-500/40 shadow-lg shadow-indigo-900/20' if is_appointments else 'text-slate-400 hover:bg-slate-800 hover:text-white' }} rounded-xl transition-all group">
            <i class="fa-solid fa-calendar-check w-6 text-center group-hover:text-indigo-400 transition-colors"></i>
            <span class="ml-3 font-medium hidden lg:block">Citas</span>
        </a>

        <a href="{{ url_for('main.reports') }}" class="flex items-center px-3 py-3 {{ 'bg-slate-800 text-white border border-indigo-500/40 shadow-lg shadow-indigo-900/20' if is_reports else 'text-slate-400 hover:bg-slate-800 hover:text-white' }} rounded-xl transition-all group">
            <i class="fa-solid fa-chart-pie w-6 text-center group-hover:text-indigo-400 transition-colors"></i>
            <span class="ml-3 font-medium hidden lg:block">Reportes</span>
        </a>
    </nav>
    
    <div class="p-4 border-t border-slate-800">
        <button class="flex items-center justify-center w-full py-2 text-slate-400 hover:text-white transition-colors">
            <i class="fa-solid fa-right-from-bracket"></i>
            <span class="ml-2 text-sm hidden lg:block">Salir</span>
        </button>
    </div>
</aside>

<main class="flex-1 flex flex-col relative overflow-hidden">
    
    <header class="h-20 bg-white border-b border-slate-200 flex items-center justify-between px-8 z-10">
        <div>
            <h1 class="text-2xl font-bold text-slate-800">Panel de Control Nutricional</h1>
            <p class="text-xs text-slate-500">Institución Educativa • Periodo 2026-A</p>
        </div>
        <div class="flex items-center gap-4">
            <div class="hidden md:flex items-center gap-2 bg-indigo-50 px-3 py-1.5 rounded-lg border border-indigo-100 text-indigo-700 text-sm font-medium">
                <i class="fa-solid fa-calendar-day"></i>
                <span>4 Feb, 2026</span>
            </div>
            <a href="{{ url_for('main.appointments') }}" class="hidden md:inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-emerald-200 text-emerald-700 bg-white hover:bg-emerald-50 transition-colors text-sm font-semibold">
                <i class="fa-solid fa-calendar-plus"></i>
                Agendar cita
            </a>
            <a href="{{ url_for('main.register') }}" class="hidden md:inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-indigo-200 text-indigo-700 bg-white hover:bg-indigo-50 transition-colors text-sm font-semibold">
                <i class="fa-solid fa-user-plus"></i>
                Nuevo registro
            </a>
            <div class="h-10 w-10 bg-slate-200 rounded-full bg-cover bg-center border-2 border-white shadow-sm" style="background-image: url('https://ui-avatars.com/api/?name=Admin+User&background=random');"></div>
        </div>
    </header>

    <div class="flex-1 overflow-y-auto bg-slate-50 p-6 lg:p-10 scroll-smooth">
        
        <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6">

            <div class="lg:col-span-4 space-y-6">
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-100">
                    <label class="block text-sm font-semibold text-slate-700 mb-2">Buscar Estudiante</label>
                    <div class="relative">
                        <input type="text" placeholder="No. Control o Nombre..." class="w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none transition-all text-sm">
                        <i class="fa-solid fa-search absolute left-3.5 top-3.5 text-slate-400"></i>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 text-white shadow-xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-indigo-500 rounded-full blur-3xl opacity-30"></div>
                    
                    <div class="flex items-start justify-between mb-6 relative z-10">
                        <div class="h-16 w-16 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/10">
                            <i class="fa-solid fa-user-graduate text-2xl"></i>
                        </div>
                        <span class="bg-green-500/20 text-green-300 border border-green-500/30 px-3 py-1 rounded-full text-xs font-medium">Activo</span>
                    </div>

                    <h2 class="text-xl font-bold">Alan Padrón Díaz</h2>
                    <p class="text-slate-400 text-sm mb-4">Desarrollo de Software</p>

                    <div class="grid grid-cols-2 gap-4 border-t border-white/10 pt-4 mt-2">
                        <div>
                            <p class="text-xs text-slate-400">No. Control</p>
                            <p class="font-mono text-sm">1224100695</p>
                        </div>
                        <div>
                            <p class="text-xs text-slate-400">Edad / Sexo</p>
                            <p class="font-medium text-sm">19 Años / H</p>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-100">
                   <h3 class="text-sm font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-clipboard-check text-indigo-500"></i> Expediente
                   </h3>
                   <div class="space-y-3">
                       <div>
                           <label class="text-xs text-slate-500 font-semibold uppercase">Tipo de Usuario</label>
                           <select class="w-full mt-1 border-slate-200 rounded-lg text-sm p-2 bg-slate-50"><option>Alumno</option><option>Docente</option></select>
                       </div>
                       <div>
                            <label class="text-xs text-slate-500 font-semibold uppercase">Plan Alimenticio</label>
                            <input type="text" value="Plan Estandar A" class="w-full mt-1 border-slate-200 rounded-lg text-sm p-2 bg-slate-50">
                        </div>
                   </div>
                </div>
            </div>

            <div class="lg:col-span-8 space-y-6">
                
                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <div class="px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center">
                        <div class="flex items-center gap-3">
                            <h3 class="font-bold text-slate-800">Antropometría</h3>
                            <a href="{{ url_for('main.reports') }}" class="text-xs font-semibold text-indigo-600 hover:text-indigo-700">Ver reportes</a>
                        </div>
                        <span class="text-xs text-slate-500">Última actualización: Hoy</span>
                    </div>
                    
                    <div class="p-6 grid grid-cols-2 md:grid-cols-4 gap-6">
                        <div class="space-y-1">
                            <label class="text-xs font-semibold text-slate-500">Peso (kg)</label>
                            <div class="flex items-center bg-slate-50 border border-slate-200 rounded-lg px-3 py-2">
                                <input type="number" class="bg-transparent w-full outline-none font-bold text-slate-700" placeholder="00.0">
                                <span class="text-xs text-slate-400">kg</span>
                            </div>
                        </div>
                        <div class="space-y-1">
                            <label class="text-xs font-semibold text-slate-500">Talla (m)</label>
                            <div class="flex items-center bg-slate-50 border border-slate-200 rounded-lg px-3 py-2">
                                <input type="number" class="bg-transparent w-full outline-none font-bold text-slate-700" placeholder="0.00">
                                <span class="text-xs text-slate-400">m</span>
                            </div>
                        </div>
                        <div class="space-y-1">
                            <label class="text-xs font-semibold text-slate-500">Cintura (cm)</label>
                            <div class="flex items-center bg-slate-50 border border-slate-200 rounded-lg px-3 py-2">
                                <input type="number" class="bg-transparent w-full outline-none font-bold text-slate-700" placeholder="00">
                            </div>
                        </div>
                         <div class="space-y-1">
                            <label class="text-xs font-semibold text-indigo-600">IMC Calculado</label>
                            <div class="flex items-center bg-indigo-50 border border-indigo-100 rounded-lg px-3 py-2">
                                <input type="text" value="24.5" readonly class="bg-transparent w-full outline-none font-bold text-indigo-700">
                            </div>
                        </div>
                    </div>

                    <div class="px-6 pb-6 grid grid-cols-2 md:grid-cols-4 gap-6">
                        <div class="col-span-2">
                            <label class="text-xs font-semibold text-slate-500">Complexión</label>
                            <input type="text" class="w-full mt-1 border border-slate-200 rounded-lg p-2 text-sm">
                        </div>
                        <div class="col-span-2">
                            <label class="text-xs font-semibold text-slate-500">Peso Ideal Sugerido</label>
                            <input type="text" class="w-full mt-1 border border-slate-200 rounded-lg p-2 text-sm bg-green-50 text-green-700 font-medium">
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 p-6">
                    <h3 class="font-bold text-slate-800 mb-4">Diagnóstico Clínico</h3>
                    <div class="flex flex-wrap gap-3">
                        <label class="cursor-pointer">
                            <input type="checkbox" class="peer sr-only">
                            <div class="px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm font-medium transition-all peer-checked:bg-red-50 peer-checked:border-red-200 peer-checked:text-red-600 hover:bg-slate-50">
                                <i class="fa-solid fa-triangle-exclamation mr-1"></i> Desnutrición
                            </div>
                        </label>

                        <label class="cursor-pointer">
                            <input type="checkbox" class="peer sr-only" checked>
                            <div class="px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm font-medium transition-all peer-checked:bg-green-50 peer-checked:border-green-300 peer-checked:text-green-700 hover:bg-slate-50">
                                <i class="fa-solid fa-check-circle mr-1"></i> Peso Sano
                            </div>
                        </label>

                        <label class="cursor-pointer">
                            <input type="checkbox" class="peer sr-only">
                            <div class="px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm font-medium transition-all peer-checked:bg-yellow-50 peer-checked:border-yellow-300 peer-checked:text-yellow-700 hover:bg-slate-50">
                                <i class="fa-solid fa-weight mr-1"></i> Sobrepeso
                            </div>
                        </label>

                        <label class="cursor-pointer">
                            <input type="checkbox" class="peer sr-only">
                            <div class="px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm font-medium transition-all peer-checked:bg-orange-50 peer-checked:border-orange-300 peer-checked:text-orange-700 hover:bg-slate-50">
                                Obesidad G1
                            </div>
                        </label>

                        <label class="cursor-pointer">
                            <input type="checkbox" class="peer sr-only">
                            <div class="px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm font-medium transition-all peer-checked:bg-blue-50 peer-checked:border-blue-300 peer-checked:text-blue-700 hover:bg-slate-50">
                                Diabetes
                            </div>
                        </label>
                    </div>
                </div>

                <div class="flex items-center justify-end gap-4 pt-4">
                    <a href="{{ url_for('main.register') }}" class="px-6 py-2.5 rounded-xl border border-slate-300 text-slate-600 font-medium hover:bg-slate-50 transition-colors">
                        Nuevo registro
                    </a>
                    <button class="px-8 py-2.5 rounded-xl bg-indigo-600 text-white font-bold shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 transform hover:-translate-y-0.5 transition-all">
                        <i class="fa-solid fa-save mr-2"></i> Guardar Expediente
                    </button>
                </div>

            </div>
        </div>
    </div>
</main>
{% endblock %}